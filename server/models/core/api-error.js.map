{"version":3,"file":"api-error.js","sourceRoot":"","sources":["../../../serverTs/models/core/api-error.ts"],"names":[],"mappings":"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","sourcesContent":["export enum APIErrorCode {\r\n    Unknown = 0,\r\n\r\n    ArgumentsMissing = 1001,\r\n    InvalidArguments,\r\n    ArgumentsTooLong = 1002,\r\n\r\n    UserNotExists = 2001,\r\n    MobileNumberUnavailable,\r\n    PasswordMismatch,\r\n    PermissionDenied,\r\n    UserNotActivated,\r\n    \r\n    VerifierExpired = 2101,\r\n    InvalidVerifier,\r\n    InvalidToken,\r\n\r\n    // 业务错误\r\n    InsufficientPoints = 3001,\r\n    NoAvailableTestRoom,\r\n\r\n    StudentNotExists = 3601,\r\n    SellerNotExists,\r\n    UserExists,\r\n    RecordNotExists,\r\n    \r\n    SMSSendFail = 4001,\r\n    \r\n    /** 课程冲突 */\r\n    CourseConflict = 5001,\r\n    \r\n    /** 操作七牛 */\r\n    AddResourceToQiniuFail = 6001,\r\n    UpdateResourceFromQiniuFail,\r\n    RemoveResourceFromQiniuFail,\r\n    ResourceNotExists,\r\n    ResourceExists\r\n    \r\n}\r\n\r\nexport var APIErrorMessage: string[] = [];\r\n\r\nvar UNKNOWN_ERROR = '未知错误';\r\n\r\nAPIErrorMessage[APIErrorCode.Unknown]                 = UNKNOWN_ERROR;\r\n\r\nAPIErrorMessage[APIErrorCode.ArgumentsMissing]        = '缺少必要参数';\r\nAPIErrorMessage[APIErrorCode.InvalidArguments]        = '参数值不被接受';\r\n\r\nAPIErrorMessage[APIErrorCode.UserNotExists]           = '该用户不存在';\r\nAPIErrorMessage[APIErrorCode.MobileNumberUnavailable] = '手机号已经被使用';\r\nAPIErrorMessage[APIErrorCode.PasswordMismatch]        = '密码不匹配';\r\nAPIErrorMessage[APIErrorCode.PermissionDenied]        = '权限不足';\r\nAPIErrorMessage[APIErrorCode.UserNotActivated]        = '用户未激活';\r\n\r\nAPIErrorMessage[APIErrorCode.VerifierExpired]         = '验证码已过期';\r\nAPIErrorMessage[APIErrorCode.InvalidVerifier]         = '验证码错误';\r\nAPIErrorMessage[APIErrorCode.InvalidToken]            = '识别码错误';\r\n\r\nAPIErrorMessage[APIErrorCode.InsufficientPoints]      = '余额不足';\r\nAPIErrorMessage[APIErrorCode.NoAvailableTestRoom]     = '没有可用的测试房间';\r\n\r\nAPIErrorMessage[APIErrorCode.StudentNotExists]        = '学生不存在';\r\nAPIErrorMessage[APIErrorCode.SellerNotExists]         = '教务老师不存在';\r\nAPIErrorMessage[APIErrorCode.UserExists]              = '用户已存在';\r\nAPIErrorMessage[APIErrorCode.RecordNotExists]         = '记录不存在';\r\n\r\nAPIErrorMessage[APIErrorCode.SMSSendFail]             = '短信发送失败';\r\n\r\nAPIErrorMessage[APIErrorCode.CourseConflict]          = '课程有冲突';\r\n\r\nAPIErrorMessage[APIErrorCode.AddResourceToQiniuFail]  = '添加资源到七牛失败';\r\nAPIErrorMessage[APIErrorCode.UpdateResourceFromQiniuFail] = '更新七牛的资源失败';\r\nAPIErrorMessage[APIErrorCode.RemoveResourceFromQiniuFail] = '删除七牛的资源失败';\r\nAPIErrorMessage[APIErrorCode.ResourceNotExists]  = '资源不存在';\r\nAPIErrorMessage[APIErrorCode.ResourceExists]     = '资源已存在';\r\n\r\nAPIErrorMessage[APIErrorCode.ArgumentsTooLong]        = '参数太长';\r\n\r\nexport class APIError {\r\n    name: string;\r\n    stack: string;\r\n    \r\n    constructor(\r\n        public code = APIErrorCode.Unknown,\r\n        public message = APIErrorMessage[code] || APIErrorCode[code] || UNKNOWN_ERROR,\r\n        public data?: any,\r\n        public error?: Error\r\n        ) {\r\n        this.stack = (<any>new Error()).stack;\r\n        this.name = APIErrorCode[code];\r\n    }\r\n}\r\n"]}